# DocSplit クライアント向けセットアップ手順

このドキュメントは、DocSplitを導入するクライアント様向けの手順書です。

## 概要

DocSplitを利用するには、お客様のGoogle Cloud Platform（GCP）アカウントで新規プロジェクトを作成し、開発者に権限を付与する必要があります。

この作業は、**自動化スクリプト**を使用することで、約5分で完了します。

## 事前準備

### 1. Google Cloudアカウントの確認

以下のURLにアクセスできることを確認してください：
- https://console.cloud.google.com

アクセスできない場合、Googleアカウントの作成またはGoogle Cloudの有効化が必要です。

### 2. 課金アカウントの確認

以下のURLで課金アカウントが設定されていることを確認してください：
- https://console.cloud.google.com/billing

課金アカウントがない場合、事前に作成してください。

### 3. gcloud CLI のインストール

#### Macの場合

1. ターミナルを開く（Finder → アプリケーション → ユーティリティ → ターミナル）
2. 以下のコマンドを実行：

```bash
curl https://sdk.cloud.google.com | bash
exec -l $SHELL
```

#### Windowsの場合

以下のURLからインストーラーをダウンロードして実行：
- https://cloud.google.com/sdk/docs/install

### 4. gcloud CLI の認証

ターミナルで以下のコマンドを実行：

```bash
gcloud auth login
```

ブラウザが開くので、お客様のGoogleアカウントでログインしてください。

## セットアップ手順（自動化スクリプト使用）

### Macの場合

1. `client-setup-gcp.command` ファイルをダウンロード
2. Finderで `client-setup-gcp.command` をダブルクリック
3. 画面の指示に従って、以下を入力：
   - プロジェクトID（例: `docsplit-abc-kaigo`）
   - 開発者のメールアドレス（開発者から受領）
   - 課金アカウントID（画面に表示されるリストから選択）
4. 完了したら、プロジェクトIDを開発者に連絡

### Linux / Macターミナルの場合

1. `client-setup-gcp.sh` ファイルをダウンロード
2. ターミナルを開き、ダウンロードしたディレクトリに移動
3. 以下のコマンドを実行：

```bash
chmod +x client-setup-gcp.sh
./client-setup-gcp.sh
```

4. 画面の指示に従って入力
5. 完了したら、プロジェクトIDを開発者に連絡

## 手動セットアップ手順（GUIから実施）

スクリプトを使用しない場合、以下の手順で手動セットアップできます。

### 1. GCPコンソールにアクセス

https://console.cloud.google.com

### 2. 新しいプロジェクトを作成

1. 画面上部の「プロジェクトを選択」→「新しいプロジェクト」をクリック
2. 以下を入力：
   - プロジェクト名: `DocSplit`
   - プロジェクトID: `docsplit-<your-company>`（例: `docsplit-abc-kaigo`）
3. 「作成」ボタンをクリック

### 3. 課金を有効化

1. 左メニュー「お支払い」→「アカウントをリンク」
2. 既存の課金アカウントを選択
3. 「アカウントを設定」をクリック

### 4. 開発者に権限を付与

1. 左メニュー「IAM と管理」→「IAM」
2. 「アクセスを許可」ボタンをクリック
3. 以下を入力：
   - 新しいプリンシパル: `<開発者のメールアドレス>`（開発者から受領）
   - ロール: `オーナー`
4. 「保存」をクリック

### 5. 完了

プロジェクトIDを開発者に連絡してください。

## トラブルシューティング

### Q. gcloud コマンドが見つかりません

A. gcloud CLI がインストールされていません。「事前準備」の手順に従ってインストールしてください。

### Q. プロジェクト作成に失敗しました

A. 以下を確認してください：
- プロジェクトIDが既に使用されていないか（別のIDで再試行）
- Google Cloudでプロジェクト作成権限があるか（組織管理者に確認）

### Q. 課金アカウント紐付けに失敗しました

A. 以下を確認してください：
- 課金アカウントIDが正しいか
- 課金アカウントの権限があるか（組織管理者に確認）

### Q. スクリプトが実行できません（Mac）

A. 以下のコマンドで実行権限を付与してください：

```bash
chmod +x client-setup-gcp.sh
```

## サポート

ご不明な点がございましたら、開発者にお問い合わせください。
